<!-- Specilazation View -->
<div class="wrapper  m-1 position-relative">
    <div size="" accent="info" class="bg-none mx-1">
      <!-- Header -->
      <div class="d-flex flex-direction-row justify-content-between w-100 align-items-center head">
        <div class="symptom-head">
          <span>Users</span>
        </div>
        <button type="button" class="btn btn-primary button btn-sm" mat-raised-button (click)="showhidebox()"
          [ngClass]="status ? 'hide' : 'show'">
          + Add New
        </button>
      </div>
      <!-- Header -->
      <!-- Add Fade in -->
      <div class="p-1 bg-white mt-1 rounded mb-1 px-2 box-view" [ngClass]="status ? 'show' : 'hide'">
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">User Name</p>
            <div class="input-group">
              <input type="Text" class="form-control inthight"   [(ngModel)]="username" placeholder="Enter User Name"
              style="font-size: 12px;">
            </div>
          </div>
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Email Address</p>
            <div class="input-group">
              <input type="email" class="form-control inthight" [(ngModel)]="useremail" placeholder="Enter Email Address"
              style="font-size: 12px;">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Password</p>
            <div class="input-group">
              <input type="password" class="form-control inthight" [(ngModel)]="userpassword" placeholder="Enter Password"
              style="font-size: 12px;">
            </div>
          </div>
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Mobile Number</p>
            <div class="input-group">
              <input type="mobile" class="form-control inthight"  [(ngModel)]="userphnum" placeholder="+ 91 -"
              style="font-size: 12px;">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Type</p>
            <div class="input-group">
              <select class="custom-select inthight" [(ngModel)]="usertype" id="inputGroupSelect01 placeholder" name="name">
                <option value="admin"> Admin </option>
              <!-- <option value="doctor" selected> Doctor </option> -->
              <option value="verifiedauthority"> Verifying Authority </option>
              <option value="madicalauthority"> Medical Authority </option>
              <option value="hospitaladmin"> Hospital Admin</option>
              <option value="branchadmin"> Branch Admin</option> 

              </select>
            </div>
          </div>
          <!-- <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Upload Profile Image</p>
            <div class="input-group">
              <input type="file" id="file" accept="image/x-png,image/jpeg"
              class="custom-file-input inthight" 
              id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" style="font-size: 12px;">
            <span style="font-size:11px">*Only jpg and Png Images allowed</span>
            <label class="custom-file-label inthight" for="inputGroupFile01" style="font-size: 12px;">{{displayFileedit }}</label>
            </div>
          </div> -->
        </div>
        <div class="row">

        <div class="col-lg col-md col-sm col-12 mb-1" *ngIf="usertype =='hospitaladmin' || usertype == 'branchadmin'">
          <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Hospital</p>
          <div class="input-group">
            <select class="custom-select inthight" [(ngModel)]="hospital" (ngModelChange)="changeHospital()" id="inputGroupSelect01 placeholder">
              <option>Choose a Hospital</option>
              <option *ngFor="let hospital of hospitalList">{{hospital.hosp_name}}</option>

            </select> 
          </div>
        </div>
        <div class="col-lg col-md col-sm col-12 mb-1" *ngIf="usertype == 'branchadmin'">
          <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Branch</p>
          <div class="input-group">
            <select class="custom-select inthight" [(ngModel)]="branch" id="inputGroupSelect01 placeholder">
              <option>Choose a Branch</option>
              <option *ngFor="let hospital of branchList">{{hospital.hosp_name}}</option>

            </select> 
          </div>
        </div>
        </div>
        <footer id="modal-footer " class="d-flex justify-content-end  mt-1">
          <button id="modal-action-button" 
          class="btn btn-md button_action" 
          type="button" (click)="createuser()" style="font-size: 12px;">
            Submit
          </button>
          <button class="btn btn-sm button_cancel" 
          type="button" id="modal-cancel-button" 
          (click)="showhidebox()" style="font-size: 12px;">
            Cancel
          </button>
        </footer>
      </div>
      <!-- Add Fade in -->
      <!-- View Fade in -->
      <div class="p-1 bg-white mt-1 rounded mb-1 px-2 box-view" [ngClass]="statusedit ? 'show' : 'hide'">
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">User Name</p>
            <div class="input-group">
              <input type="Text" class="form-control inthight" [(ngModel)]="edit_username" placeholder="Enter User Name"
              style="font-size: 12px;">
            </div>
          </div>
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Email Address</p>
            <div class="input-group">
              <input type="email" class="form-control inthight"  [(ngModel)]="edit_useremail" placeholder="Enter Email Address"
              style="font-size: 12px;">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Password</p>
            <div class="input-group">
              <input type="password" class="form-control inthight" [(ngModel)]="edit_userpassword" placeholder="Enter Password"
              style="font-size: 12px;">
            </div>
          </div>
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Mobile Number</p>
            <div class="input-group">
              <input type="mobile" class="form-control inthight"  [(ngModel)]="edit_userphnum" placeholder="+ 91 -"
              style="font-size: 12px;">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg col-md col-sm col-12 mb-1">
            <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Type</p>
            <div class="input-group">
              <select class="custom-select inthight" [(ngModel)]="edit_usertype" id="inputGroupSelect01 placeholder">
                <option value="admin"> Admin </option>
                <!-- <option value="doctor" selected> Doctor </option> -->
                <option value="verifiedauthority"> Verifying Authority </option>
                <option value="madicalauthority"> Medical Authority </option>
                <option value="hospitaladmin"> Hospital Admin</option>
                <option value="branchadmin"> Branch Admin</option> 

              </select> 
            </div>
          </div>
          <!-- <div class="col-lg col-md col-sm col-12 mb-1" >
            <p class="col-12 p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Upload Profile Image</p>
            <div class="input-group">
              <input type="file" id="file" accept="image/x-png,image/jpeg"
              class="custom-file-input inthight" 
              id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" style="font-size: 12px;">
            <span style="font-size:11px">*Only jpg and Png Images allowed</span>
            <label class="custom-file-label inthight" for="inputGroupFile01" style="font-size: 12px;">{{displayFileedit }}</label>
            </div>
          </div> -->
        </div>
        <!-- <div class="row"> -->
          <div class="row">

            <div class="col-lg col-md col-sm col-12 mb-1" *ngIf="edit_usertype =='hospitaladmin' || edit_usertype == 'branchadmin'">
              <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Hospital</p>
              <div class="input-group">
                <select class="custom-select inthight" [(ngModel)]="edit_hospital" (ngModelChange)="edit_changeHospital()" id="inputGroupSelect01 placeholder">
                  <option>Choose a Hospital</option>
                  <option *ngFor="let hospital of hospitalList">{{hospital.hosp_name}}</option>
    
                </select> 
              </div>
            </div>
            <div class="col-lg col-md col-sm col-12 mb-1" *ngIf="edit_usertype == 'branchadmin'">
              <p class="col-12  p-0 m-0 mb-1" style="font-size: 14px; font-weight: 600;">Branch</p>
              <div class="input-group">
                <select class="custom-select inthight" [(ngModel)]="edit_branch" id="inputGroupSelect01 placeholder">
                  <option>Choose a Branch</option>
                  <option *ngFor="let hospital of branchList">{{hospital.hosp_name}}</option>
    
                </select> 
              </div>
            </div>
            </div>

          
        <footer id="modal-footer " class="d-flex justify-content-end  mt-1">
          <button id="modal-action-button" class="btn btn-sm button_action" 
          type="button" (click)="openModaledit()" style="font-size: 12px;">
            Update
          </button>
          <button class="btn btn-sm button_cancel" 
          type="button" id="modal-cancel-button" (click)="showhideboxedit()" style="font-size: 12px;">
            Cancel
          </button>
        </footer>
      </div>
      <!-- View Fade in -->
      <!-- Table Box View -->
      <div class="bg-white  table-top">
        <!-- Search View -->
        <div class="main d-flex justyfy-content-end aligin-items-center" style="float: right; padding-top: 5px;">
          <div id="custom-search-input mb-2" style="z-index: 9999;">
            <div class="input-group mb-2">
              <input type="text" class="  search-query form-control" placeholder="Search"
                (keyup)="doFilter($event.target.value)" style="font-size: 12px;"/>
              <span class="input-group-btn btn btn-primary mr-2 btn-search">
                  <i class="fas fa-search " aria-hidden="true" ></i>
              </span>
            </div>
          </div>
        </div>
        <!-- Search View -->
        <!-- Table View -->
        <div class="col col-lg col-md col-sm m-0 p-0 justyfy-content-center align-items-center table-scroll">
        <table mat-table [dataSource]="dataSource" matSort class=" table-view">
          <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">Sl.No. </th>
            <td mat-cell *matCellDef="let element; let i=index;"> {{element.sl_num}} </td>
          </ng-container>
    
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">User Name </th>
            <td mat-cell *matCellDef="let element" >{{element.username? element.username : ""}}</td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">User Email ID </th>
            <td mat-cell *matCellDef="let element"> {{element.loginID2? element.loginID2 : element.loginID }} </td>
          </ng-container>

          <ng-container matColumnDef="userType">
             <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">User Type </th>
            <td mat-cell *matCellDef="let element">{{element.showloginType | titlecase}}  </td>
          </ng-container>

          <!-- <ng-container matColumnDef="symbol">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">Status</th>
            <td mat-cell *matCellDef="let element"> {{element.status | titlecase}} </td>
          </ng-container>

          <ng-container matColumnDef="createId">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-head">Create Date </th>
            <td mat-cell *matCellDef="let element">  </td>
          </ng-container> -->
    
    
          <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef class="table-head text-center"> Action </th>
    
            <td mat-cell *matCellDef="let element" style="text-align: center;">
              <span class="edit text-center m-auto">
                <i class="far fa-edit  btn btn-primary text-center btn-sm p-1 mx-1" (click)="editModal(element)"
                  aria-hidden="true" style="font-size: 12px;" data-toggle="tooltip" title="Edit"></i>
                  <!-- <i class="fas fa-trash  btn btn-danger text-centerbtn-sm p-1 mx-1" (click)="deleteModal(element)"
                   aria-hidden="true" style="font-size: 12px;"></i> -->
                </span>
            </td>
          </ng-container>
    
    
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        </div>
        <!-- Table View -->
        <!-- pagination -->
        <mat-paginator [pageSizeOptions]="[10, 15, 20, 50]" showFirstLastButtons></mat-paginator>
        <!-- pagination -->
      </div>
      <!-- Table Box View -->
    </div>
  </div>
  
  <!-- Specilazation View -->

  <div class="popup {{callstatus ?'pshow':''}}">
    <div class="centerbox">
      <div class="pclose" (click)="leavechannel()"><i class="fa fa-times " style="font-size: 20px;"></i></div>
      <section class="mx-2 mb-2 mt-2">
        <div class="col d-flex justify-content-center align-items-center p-0 m-0">
          <h5 class="p-0 m-0 mb-2">Confirm</h5>
        </div>
  
        <span style="padding-left: 100px;">Are you sure you want to delete user ?</span> 
      </section>
      <footer id="modal-footer" class="col-12 mb-2 d-flex justify-content-center align-items-center">
       
        <div class="col m-0 p-0 px-3">
  
          <button type="button" class="btn btn-sm " (click)="deleteit()" id="modal-action-button">
            Yes
          </button>
          <button type="button" class="btn btn-sm button_cancel" id="modal-cancel-button" (click)="leavechannel()" >
            No
          </button>
          
        </div>
  
        
      </footer>
    </div>
  </div>